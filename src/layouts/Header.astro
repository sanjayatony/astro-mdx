---
import navigation from "@data/navigation.json";
import site from "@data/site.json";
import Icon from "@helper/icon";
import Banner from "@layouts/Banner.astro";
---

{site.banner.is_active && <Banner site={site} />}
<header
	id="site-header"
	class="py-6">
	<nav
		id="main-navigation"
		class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800">
		<div class="flex flex-wrap justify-between items-center wrapper">
			<div class="flex gap-8">
				<a href={site.home_url}>
					<img
						src={site.logo_image}
						class="w-24 h-auto"
						height="32"
						width="96"
					/>
				</a>
				<div
					class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1"
					id="mobile-menu-2">
					<ul class="flex flex-col font-medium lg:flex-row gap-8">
						{
							navigation.items.map((item, i) => (
								<li>
									{item.subitems && item.subitems.length > 0 ? (
										<>
											<button
												id="mega-menu-button"
												aria-label="Open submenu"
												data-dropdown-toggle="mega-menu"
												class="flex justify-between items-center py-2 pr-4 pl-3 w-full font-medium text-gray-700 border-b border-gray-100 lg:w-auto hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-primary-600 lg:p-0 dark:text-gray-400 lg:dark:hover:text-primary-500 dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700"
												key={i}>
												{item.text}
												<svg
													class="ml-1 w-5 h-5 lg:w-4 lg:h-4"
													fill="currentColor"
													viewBox="0 0 20 20"
													xmlns="http://www.w3.org/2000/svg">
													<path
														fillRule="evenodd"
														d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
														clipRule="evenodd"
													/>
												</svg>
											</button>
											<div
												id="mega-menu"
												class="grid hidden absolute z-10 w-full bg-white border border-gray-100 shadow-md dark:border-gray-700 lg:rounded-lg lg:w-auto lg:grid-cols-3 dark:bg-gray-700">
												<div class="p-2 text-gray-900 bg-white lg:rounded-lg dark:text-white lg:col-span-2 dark:bg-gray-800">
													<ul>
														{item.subitems.map((subitem, i) => (
															<li key={i}>
																<a
																	href={subitem.link}
																	class="flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">
																	<div class="p-2 mr-4 bg-white rounded-lg shadow dark:bg-gray-700">
																		<Icon icon={subitem.icon} />
																	</div>
																	<div>
																		<div class="font-semibold">
																			{subitem.text}
																		</div>
																		<div class="text-sm font-light text-gray-500 dark:text-gray-400">
																			{subitem.description}
																		</div>
																	</div>
																</a>
															</li>
														))}
													</ul>
												</div>
											</div>
										</>
									) : (
										<a
											href={item.link}
											class="block py-2"
											aria-current="page">
											{item.text}
										</a>
									)}
								</li>
							))
						}
					</ul>
				</div>
			</div>
			<div class="flex items-center">
				{
					navigation.additional_items &&
						navigation.additional_items.length > 0 && (
							<ul class="flex gap-8 items-center">
								{navigation.additional_items.map((item, i) => (
									<li>
										<a
											href={item.link}
											class={
												item.is_button
													? "button primary capitalize "
													: "text-sm hidden md:inline-block"
											}>
											{item.text}
										</a>
									</li>
								))}
							</ul>
						)
				}

				<button
					data-collapse-toggle="mobile-menu-2"
					type="button"
					class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
					aria-controls="mobile-menu-2"
					aria-expanded="false"
					aria-label="Open main menu">
					<span class="sr-only">Open main menu</span>
					<svg
						class="w-6 h-6"
						fill="currentColor"
						viewBox="0 0 20 20"
						xmlns="http://www.w3.org/2000/svg">
						<path
							fillRule="evenodd"
							d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
							clipRule="evenodd"
						></path>
					</svg>
					<svg
						class="hidden w-6 h-6"
						fill="currentColor"
						viewBox="0 0 20 20"
						xmlns="http://www.w3.org/2000/svg">
						<path
							fillRule="evenodd"
							d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
							clipRule="evenodd"
						></path>
					</svg>
				</button>
			</div>
		</div>
	</nav>
</header>
